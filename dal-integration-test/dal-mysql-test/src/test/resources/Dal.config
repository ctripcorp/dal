<dal name="SimpleShardByDBOnMysql_java">
	<databaseSets>
		<databaseSet name="SimpleShardByTableOnMySql" provider="mySqlProvider"
                     shardingStrategy="class=com.ctrip.platform.dal.dao.strategy.SimpleShardHintStrategy;shardByTable=true;shardedTables=person;separator=_">
            <add name="DalService2DB_W" databaseType="Master" sharding="" connectionString="DalService2DB_W"/>
        </databaseSet>
		<databaseSet name="SimpleShardByDBTableOnMysql" provider="mySqlProvider"
                     shardingStrategy="class=com.ctrip.platform.dal.dao.strategy.SimpleShardHintStrategy;shardByTable=true;shardByDb=true;shardedTables=people;separator=_">
            <add name="DalService3DB_W" databaseType="Master" sharding="1" connectionString="DalService3DB_W"/>
            <add name="DalService2DB_W" databaseType="Master" sharding="0" connectionString="DalService2DB_W"/>
        </databaseSet>
		<databaseSet name="SimpleShardByDBOnMysql" provider="mySqlProvider"
                     shardingStrategy="class=com.ctrip.platform.dal.dao.strategy.SimpleShardHintStrategy;shardByDb=true">
            <add name="DalService3DB_W" databaseType="Master" sharding="1" connectionString="DalService3DB_W"/>
            <add name="DalService2DB_W" databaseType="Master" sharding="0" connectionString="DalService2DB_W"/>
        </databaseSet>
		<databaseSet name="ShardColModShardByTableOnMysql" provider="mySqlProvider"
                     shardingStrategy="class=com.ctrip.platform.dal.dao.strategy.ShardColModShardStrategy;tableColumn=Age;tableMod=2;separator=_;shardedTables=person">
            <add name="DalService2DB_W" databaseType="Master" sharding="" connectionString="DalService2DB_W"/>
        </databaseSet>
		<databaseSet name="ShardColModShardByDBTableOnMysql" provider="mysqlProvider"
                     shardingStrategy="class=com.ctrip.platform.dal.dao.strategy.ShardColModShardStrategy;column=CityID;mod=2;tableColumn=Age;tableMod=2;separator=_;shardedTables=people">
            <add name="DalService3DB_W" databaseType="Master" sharding="1" connectionString="DalService3DB_W"/>
            <add name="DalService2DB_W" databaseType="Master" sharding="0" connectionString="DalService2DB_W"/>
        </databaseSet>
		<databaseSet name="testMasterOnlyOnMysql" provider="mySqlProvider">
            <add name="DalService3DB_W" databaseType="Slave" sharding="" connectionString="DalService3DB_W"/>
            <add name="DalService2DB_W" databaseType="Master" sharding="" connectionString="DalService2DB_W"/>
        </databaseSet>
		<databaseSet name="testDesignatedDatabaseOnMysql" provider="mySqlProvider">
            <add name="DalService2DB_W" databaseType="Master" sharding="" connectionString="DalService2DB_W"/>
            <add name="DalService3DB_W" databaseType="Master" sharding="" connectionString="DalService3DB_W"/>
        </databaseSet>
		<databaseSet name="noShardTestOnMysql" provider="mySqlProvider">
             <add name="DalService2DB_W" databaseType="Master" sharding="" connectionString="DalService2DB_W"/>
        </databaseSet>
		<databaseSet name="ShardColModShardByDBOnMysql" provider="mySqlProvider"
                     shardingStrategy=" class = com.ctrip.platform.dal.dao.strategy.ShardColModShardStrategy ;columns= Age ;mod= 2 ;">
             <add name="DalService3DB_W" databaseType="Master" sharding="1" connectionString="DalService3DB_W"/>
             <add name="DalService2DB_W" databaseType="Master" sharding="0" connectionString="DalService2DB_W"/>
        </databaseSet>
        <databaseSet name="RWShardOnMysql" provider="mySqlProvider"
                             shardingStrategy=" class = com.ctrip.platform.dal.dao.strategy.ShardColModShardStrategy ;columns= Age ;mod= 2 ;">
                     <add name="DalService2DB_W" databaseType="Master" sharding="0" connectionString="DalService2DB_W"/>
                     <add name="DalService0DB_W" databaseType="Slave" sharding="0" connectionString="DalService3DB_W"/>
                     <add name="DalService3DB_W" databaseType="Master" sharding="1" connectionString="DalService4DB_W"/>
                     <add name="DalService1DB_W" databaseType="Slave" sharding="1" connectionString="DalService5DB_W"/>
                </databaseSet>
                <databaseSet name="RWOnMysql" provider="mySqlProvider">
                     <add name="DalService0DB_W" databaseType="Master" sharding="" connectionString="DalService4DB_W"/>
                     <add name="DalService1DB_W" databaseType="Slave" sharding="" connectionString="DalService5DB_W"/>
                     <add name="DalService2DB_W" databaseType="Master" sharding="" connectionString="DalService2DB_W"/>
                     <add name="DalService3DB_W" databaseType="Slave" sharding="" connectionString="DalService3DB_W"/>
                </databaseSet>
	</databaseSets>
	<LogListener enabled="true">
  	  <!--<logger>com.ctrip.platform.dal.dao.client.DefaultLogger</logger>-->
      <logger>com.ctrip.platform.dal.sql.logging.CtripDalLogger</logger>
      <settings>
        <secretKey>dalctripcn</secretKey>
        <simplified>true</simplified>
        <sampling>true</sampling>
        <samplingLow>2</samplingLow>
	  	<samplingHigh>1</samplingHigh>
	  	<sampleMaxNum>5000</sampleMaxNum>
	  	<sampleClearInterval>30</sampleClearInterval>
        <asyncLogging>false</asyncLogging>
      </settings>
  </LogListener>
	<ConnectionLocator>
		<settings>
		    <databaseConfigLocation>$classpath</databaseConfigLocation>
			<dataSourceConfigureProvider>com.ctrip.datasource.titan.TitanProvider</dataSourceConfigureProvider>
		</settings>
	</ConnectionLocator>
	<TaskFactory>
		<factory>com.ctrip.platform.dal.dao.CtripTaskFactory</factory>
		<settings>
        <callSpbyName>true</callSpbyName>
        </settings>
	</TaskFactory>
	<DatabaseSelector>
        <selector>com.ctrip.platform.dal.dao.configure.FreshnessDatabaseSelector</selector>
    </DatabaseSelector>
</dal>